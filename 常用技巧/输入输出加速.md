# 输入输出加速

### cin加速:

采用 std::ios::sync_with_stdio(false) 可以加速cin,cout。

>   `std::ios::sync_with_stdio(false) ` 的作用是取消缓冲区同步，因为printf()/scanf()是C函数，而cin/cout是C++函数，这些函数需要用到各自的缓冲区，为了防止各自的缓冲区错位，C++默认将C函数和C++函数的缓冲区同步。当你设置成std::ios::sync_with_stdio(false)后C++就会取消同步，这会提高cin/cout的运行速度，代价是不能和printf()/scanf()混用，否则会因不同步而出现问题，所以在这种情况下整个程序切记不可将cin/cout和printf()/scanf()混用

```cpp
ios::sync_with_stdio(false);
cin.tie(0);
cout.tie(0);
```

### 输入输出外挂

直接调用`int n=read()`会进行$$n$$的输入

```cpp
int read()
{
    char ch=getchar();
    int x=0;
    while(ch<'0'||ch>'9')ch=getchar();
    while(ch>='0'&&ch<='9')x=(x<<3)+(x<<1)+ch-'0',ch=getchar();
    return x;
}
```

2.0

```cpp
namespace IO
{
const int MX = 4e7;
char buf[MX];
int c, sz;
void begin()
{
    c = 0;
    sz = fread(buf, 1, MX, stdin);
}
inline bool read(int &t)
{
    while(c < sz && buf[c] != '-' && (buf[c] < '0' || buf[c] > '9')) c++;
    if(c >= sz) return false;
    bool flag = 0;
    if(buf[c] == '-') flag = 1, c++;
    for(t = 0; c < sz && '0' <= buf[c] && buf[c] <= '9'; c++) t = t * 10 + buf[c] - '0';
    if(flag) t = -t;
    return true;
}
}
//使用的时候先IO::begin()
//然后输入时IO::read(x)
```

